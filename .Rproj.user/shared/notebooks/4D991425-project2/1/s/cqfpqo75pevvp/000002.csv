"0","#LASSO Regression: "
"0","library(glmnet)"
"0",""
"0","kidney1 <- kidney_disease1 %>% mutate(classification=ifelse(classification==""ckd"",1,0))"
"0","y <- as.matrix(kidney1$classification)"
"0","x <- model.matrix(classification~age+bp+sg+al+rbc+su+ba+pc+pcc+bgr+bu+sc+sod+pot+hemo+rc++htn+dm+cad+appet+pe+ane, data=kidney1)[,-1]"
"0",""
"0","cv <- cv.glmnet(x,y, family = ""binomial"")"
"0","lasso <- glmnet(x,y, family = ""binomial"", lambda = cv$lambda.1se)"
"0","coef(lasso)"
"1","23 x 1 sparse Matrix of class ""dgCMatrix""
"
"1","           "
"1","            s0"
"1","
(Intercept)"
"1","  2.104765e+02"
"1","
age        "
"1","  .           "
"1","
bp         "
"1","  .           "
"1","
sg         "
"1"," -2.021148e+02"
"1","
al         "
"1","  2.156906e+00"
"1","
rbcnormal  "
"1"," -1.230922e-01"
"1","
su         "
"1","  .           "
"1","
bapresent  "
"1","  .           "
"1","
pcnormal   "
"1"," -8.245432e-01"
"1","
pccpresent "
"1","  .           "
"1","
bgr        "
"1","  6.727288e-05"
"1","
bu         "
"1","  .           "
"1","
sc         "
"1","  .           "
"1","
sod        "
"1","  .           "
"1","
pot        "
"1","  .           "
"1","
hemo       "
"1"," -4.735200e-01"
"1","
rc         "
"1"," -4.511904e-02"
"1","
htnyes     "
"1","  4.632578e-01"
"1","
dmyes      "
"1","  1.313840e+00"
"1","
cadyes     "
"1","  .           "
"1","
appetpoor  "
"1","  .           "
"1","
peyes      "
"1","  .           "
"1","
aneyes     "
"1","  .           "
"1","
"
"0","#Cross-Validating: "
"0",""
"0","set.seed(1234)"
"0","k=10"
"0",""
"0","data3 <- kidney1 %>% sample_frac"
"0","folds <- ntile(1:nrow(data3), n= 10)"
"0","diags <- NULL"
"0","for(i in 1:k) {"
"0","  train <- data3[folds !=i,]"
"0","  test <- data3[folds==i,]"
"0","  truth <- test$classification"
"0","  fit5 <- glm(classification ~ sg+al+pc+hemo+rc+htn+ dm, data = train, family = ""binomial"")"
"0","  probs3 <- predict(fit5, newdata=test, type=""response"")"
"0","  diags <- rbind(diags, class_diag(probs3, truth))"
"0","}"
"2","glm.fit: algorithm did not converge"
"2","glm.fit: fitted probabilities numerically 0 or 1 occurred"
"2","glm.fit: algorithm did not converge"
"2","glm.fit: fitted probabilities numerically 0 or 1 occurred"
"2","glm.fit: algorithm did not converge"
"2","glm.fit: fitted probabilities numerically 0 or 1 occurred"
"2","glm.fit: algorithm did not converge"
"2","glm.fit: fitted probabilities numerically 0 or 1 occurred"
"2","glm.fit: algorithm did not converge"
"2","glm.fit: fitted probabilities numerically 0 or 1 occurred"
"2","glm.fit: algorithm did not converge"
"2","glm.fit: fitted probabilities numerically 0 or 1 occurred"
"2","glm.fit: algorithm did not converge"
"2","glm.fit: fitted probabilities numerically 0 or 1 occurred"
"2","glm.fit: algorithm did not converge"
"2","glm.fit: fitted probabilities numerically 0 or 1 occurred"
"2","glm.fit: algorithm did not converge"
"2","glm.fit: fitted probabilities numerically 0 or 1 occurred"
"2","glm.fit: algorithm did not converge"
"2","glm.fit: fitted probabilities numerically 0 or 1 occurred"
"0","diags %>% summarize_all(mean)"
